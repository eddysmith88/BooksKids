{% extends 'base.html' %}

{% block content %}
    <br>
    <center>
        <h1>Profile</h1>
    </center>
    <hr>
    <div class="row" style="margin-left: 55px;">
      <div class="col">
          <img src="{{ url_for('static',filename='uploads/' ~ current_user.profile_pic ) }}" alt="" style="width: 250px; height: 250px; border-radius: 100px">

          <a href="{{ url_for('edit_profile', user_id=current_user.id) }}" class="btn btn-success" style="border-radius: 25px; margin-left: 60px; margin-top: 25px">Edit Profile</a>


      </div>
      <div class="col order-5">
      <h3>My books</h3>
{#            <div class="d-flex flex-wrap">#}
{#                {% for book in favorite_books %}#}
{#                    <div class="card" style="width: 18rem; margin: 15px;">#}
{#                        <a href="{{ url_for('read_page', book_id=book.id) }}" class="text-decoration-none">#}
{#                            <img src="{{ url_for('static', filename='uploads/' + book.image) }}" alt="{{ book.title }}" class="card-img-top" style="height: 200px; object-fit: cover;">#}
{#                        </a>#}
{#                        <div class="card-body">#}
{#                            <a href="{{ url_for('book_info', book_id=book.id) }}" class="text-decoration-none">#}
{#                                <h5 class="card-title">{{ book.title }}</h5>#}
{#                            </a>#}
{#                            <p class="card-text">{{ book.description|truncate(23, True) }}</p>#}
{#                            <hr>#}
{#                            <p class="card-text text-muted">{{ book.category.name }}</p>#}
{#                        </div>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
    {% for book in favorite_books %}
      <div class="card mb-3" style="width: 333px; height: 125px">

          <div class="row g-0">

            <div class="col-md-4">
              <a href="{{ url_for('read_page', book_id=book.id) }}" class="text-decoration-none">
                  <img src="{{ url_for('static', filename='uploads/' + book.image) }}" alt="{{ book.title }}" class="card-img-top"
                       style="height: 125px; object-fit: cover; border-radius: 10px">
              </a>
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">
                    <a href="{{ url_for('book_info', book_id=book.id) }}" class="text-decoration-none">
                                {{ book.title }}
                    </a>
                </h5>
                <p class="card-text">
                </p>
                <p class="card-text">
                    <a href="{{ url_for('books_by_category', category_id=book.category_id ) }}" style="color: gray">
                    <p class="card-text text-muted">{{ book.category.name }}</p>
                    </a>
                </p>
              </div>
            </div>

          </div>

        </div>
      {% endfor %}



      </div>
      <div class="col order-1">
          <strong>
              Username:
          </strong>
            {{ current_user.username }}<br><br>
          <strong>
              Email:
          </strong>
            {{ current_user.email }}
           <br><br><br><br>
          <hr>
          Last book...

      </div>
    </div>
    <hr>

{% endblock %}